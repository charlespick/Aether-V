# Aether-V Server Configuration Example
# Copy this file to .env and fill in your values

# Application
# DEBUG=false  # Default: false (enable for verbose logging)
# ENVIRONMENT_NAME=Production Environment  # Default UI display name

# Authentication
# AUTH_ENABLED=true  # Default: true (leave enabled for production)
# ALLOW_DEV_AUTH=false  # Default: false; must be true before disabling auth

# OIDC
OIDC_ISSUER_URL=https://login.microsoftonline.com/<tenant-id>/v2.0
OIDC_CLIENT_ID=<your-client-id>
OIDC_CLIENT_SECRET=<your-client-secret>
OIDC_REDIRECT_URI=https://aetherv.example.com/auth/callback
# OIDC_API_AUDIENCE=api://<your-client-id>  # Optional explicit API audience
OIDC_READER_PERMISSIONS=Aether.Reader
OIDC_WRITER_PERMISSIONS=Aether.Writer
OIDC_ADMIN_PERMISSIONS=Aether.Admin
# OIDC_ROLE_NAME=vm-admin  # Legacy fallback role mapping (optional)
# OIDC_FORCE_HTTPS=true  # Default: true; set false only for local HTTP testing

# API & session
SESSION_SECRET_KEY=<your-secure-session-secret-key>

# Security
# JWKS_CACHE_TTL=300  # Default: 300 seconds
# MAX_TOKEN_AGE=3600  # Default: 3600 seconds
# SESSION_MAX_AGE=3600  # Default: 3600 seconds
# COOKIE_SECURE=true  # Default: true
# COOKIE_SAMESITE=lax  # Default: lax

# Hyper-V / WinRM
HYPERV_HOSTS=hyperv01.example.com,hyperv02.example.com
WINRM_USERNAME=DOMAIN\\username
WINRM_PASSWORD=your-password
# WINRM_TRANSPORT=ntlm  # Default: ntlm (supports ntlm, basic, credssp)
# WINRM_PORT=5985  # Default: 5985

# Inventory
# INVENTORY_REFRESH_INTERVAL=60  # Default: 60 seconds

# Jobs
# JOB_WORKER_CONCURRENCY=3  # Default: 3 concurrent provisioning jobs

# Remote WinRM execution
# REMOTE_TASK_MIN_CONCURRENCY=3   # Default: 3 initial concurrent remote operations
# REMOTE_TASK_MAX_CONCURRENCY=8   # Default: 8 concurrent remote operations when under load
# REMOTE_TASK_SCALE_UP_BACKLOG=2  # Default: scale up when at least this many tasks are queued
# REMOTE_TASK_IDLE_SECONDS=30.0   # Default: idle time before scaling workers down

# WebSockets
# WEBSOCKET_TIMEOUT=1800  # Default: 1800 seconds
# WEBSOCKET_PING_INTERVAL=30  # Default: 30 seconds
# WEBSOCKET_REFRESH_TIME=1500  # Default: 1500 seconds

# Deployment
# HOST_INSTALL_DIRECTORY=C:\\Program Files\\Aether-V  # Default agent path
# AGENT_STARTUP_CONCURRENCY=3  # Default: 3 parallel host startups
# AGENT_DOWNLOAD_BASE_URL=https://aetherv.example.com/agent  # Required for automated host updates
# AGENT_DOWNLOAD_MAX_ATTEMPTS=5  # Default: 5 download retries
# AGENT_DOWNLOAD_RETRY_INTERVAL=2.0  # Default: 2 seconds between retries

# Development
# DUMMY_DATA=false  # Default: false (enables mock data when true)
