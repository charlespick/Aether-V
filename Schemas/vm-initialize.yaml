version: 1
id: vm-initialize
name: "Virtual machine initialization (internal)"
description: "Internal schema for guest OS configuration. Used by managed deployment orchestration only - not exposed as a standalone resource."
fields:
  - id: vm_id
    label: "VM ID"
    description: "Hyper-V ID of the virtual machine to initialize."
    type: string
    required: true
  - id: vm_name
    label: "VM name"
    description: "Name of the virtual machine (used for hostname)."
    type: string
    required: true
  - id: guest_la_uid
    label: "Local administrator"
    description: "Username for the guest operating system's local administrator."
    hint: "Administrator"
    type: string
    required: true
  - id: guest_la_pw
    label: "Local administrator password"
    description: "Password for the guest operating system's local administrator."
    type: secret
    required: true
  - id: guest_domain_jointarget
    label: "Domain FQDN"
    description: "Fully qualified domain name to join."
    hint: "corp.example.com"
    type: string
    required: false
  - id: guest_domain_joinuid
    label: "Domain join account"
    description: "User account used to join the domain."
    hint: "EXAMPLE\\svc_join"
    type: string
    required: false
  - id: guest_domain_joinpw
    label: "Domain join password"
    description: "Password for the domain join account."
    type: secret
    required: false
  - id: guest_domain_joinou
    label: "Domain join OU"
    description: "Organizational unit path for the computer account."
    hint: "OU=Servers,DC=corp,DC=example,DC=com"
    type: string
    required: false
  - id: cnf_ansible_ssh_user
    label: "Ansible SSH user"
    description: "Username used by Ansible for SSH automation."
    hint: "ansible"
    type: string
    required: false
  - id: cnf_ansible_ssh_key
    label: "Ansible SSH public key"
    description: "Public key provided to the guest for Ansible SSH access."
    hint: "ssh-ed25519 AAAA..."
    type: multiline
    required: false
  - id: guest_v4_ipaddr
    label: "IPv4 address"
    description: "Static IPv4 address to assign to the guest."
    hint: "192.0.2.50"
    type: ipv4
    required: false
  - id: guest_v4_cidrprefix
    label: "IPv4 prefix length"
    description: "CIDR prefix length that accompanies the static IPv4 address."
    hint: "24"
    type: integer
    required: false
  - id: guest_v4_defaultgw
    label: "Default gateway"
    description: "Default IPv4 gateway for the guest."
    hint: "192.0.2.1"
    type: ipv4
    required: false
  - id: guest_v4_dns1
    label: "Primary DNS server"
    description: "Primary IPv4 DNS server for the guest."
    hint: "192.0.2.53"
    type: ipv4
    required: false
  - id: guest_v4_dns2
    label: "Secondary DNS server"
    description: "Secondary IPv4 DNS server for the guest."
    hint: "192.0.2.54"
    type: ipv4
    required: false
  - id: guest_net_dnssuffix
    label: "DNS suffix"
    description: "DNS search suffix for the guest network configuration."
    hint: "corp.example.com"
    type: string
    required: false
