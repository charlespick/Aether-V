<!doctype html>
<html lang="en" data-theme="dark">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script>
		// Prevent flash of unstyled content (FOUC) by applying theme immediately
		(function () {
			const stored = localStorage.getItem('aether-v-theme');
			const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

			let theme = 'dark';
			if (stored === 'light') {
				theme = 'light';
			} else if (stored === 'dark') {
				theme = 'dark';
			} else if (stored === 'system') {
				theme = prefersDark ? 'dark' : 'light';
			} else {
				// Default to system preference if no stored value
				theme = prefersDark ? 'dark' : 'light';
			}

			document.documentElement.setAttribute('data-theme', theme);
		})();
	</script>
	%sveltekit.head%
</head>

<body data-sveltekit-preload-data="hover">
	<div style="display: contents">%sveltekit.body%</div>
</body>

</html>